@model ClinicManagement.Domin.Doctordetails

<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src='https://ajax.aspnetcdn.com/ajax/jquery.validate/1.16.0/jquery.validate.min.js'></script>
    <script src='https://ajax.aspnetcdn.com/ajax/jquery.validation.unobtrusive/3.2.6/jquery.validate.unobtrusive.min.js'></script>
  </head>

  <body>
      <div class="container">
          <h2>Doctor details</h2>
          <!-- Trigger the modal with a button -->
          <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Add</button>

          <!-- Modal -->
          <div class="modal fade" id="myModal" role="dialog">
              <div class="modal-dialog">

                  <!-- Modal content-->
                  <div class="modal-content">
                      <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h4 class="modal-title">Modal Header</h4>
                      </div>
                      <div class="modal-body">
                          <form id="myform">
                              <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                              <div class="form-group">
                                  <label asp-for="FirstName" class="required"></label>
                                  <input asp-for="FirstName" class="form-control" />
                                  <span asp-validation-for="FirstName" class="text-danger"></span>
                              </div>
                              <div class="form-group">
                                  <label asp-for="LastName" class="required"></label>
                                  <input asp-for="LastName" class="form-control" />
                                  <span asp-validation-for="LastName" class="text-danger"></span>
                              </div>
                              <div class="form-group">
                                  <label class="required">Sex</label><br />
                                  @Html.RadioButtonFor(model => model.Sex, "Male")
                                  Male<br />
                                  @Html.RadioButtonFor(model => model.Sex, "Female")
                                  Female<br />
                                  @Html.RadioButtonFor(model => model.Sex, "Others")
                                  Others<br /><br />
                              </div>
                              <div class="form-group">
                                  <label asp-for="Age" class="required"></label>
                                  <input asp-for="Age" class="form-control" />
                                  <span asp-validation-for="Age" class="text-danger"></span>
                              </div>
                              <div class="form-group">
                                  <label asp-for="Date_of_Birth" class="required"></label>
                                  <input asp-for="Date_of_Birth" class="form-control" />
                                  <span asp-validation-for="Date_of_Birth" class="text-danger"></span>
                              </div>
                              <div class="form-group">
                                  <label asp-for="Specialization" class="required"></label>
                                  @Html.DropDownList("Specialization", new List<SelectListItem>
                                     {
                                     new SelectListItem{Value="General",Text="General"},
                                     new SelectListItem{Value="Internal Medicine",Text="Internal Medicine"},
                                     new SelectListItem{Value="Pediatrics",Text="Pediatrics"},
                                     new SelectListItem{Value="Orthopedics",Text="Orthopedics"},
                                     new SelectListItem{Value="Ophthalmology",Text="Ophthalmology"}

                                  }, "Specialization", new { @class = "form-control" })
                              </div>
                              <div class="form-group">

                                  <label asp-for="FromTime" class="required"></label>
                                  <select class="form-control" asp-for="FromTime">
                                      <option>00:00</option>
                                      <option>01:00</option>
                                      <option>02:00</option>
                                      <option>03:00</option>
                                      <option>04:00</option>
                                      <option>05:00</option>
                                      <option>06:00</option>
                                      <option>07:00</option>
                                      <option>08:00</option>
                                      <option>09:00</option>
                                      <option>10:00</option>
                                      <option>11:00</option>
                                      <option>12:00</option>
                                      <option>13:00</option>
                                      <option>14:00</option>
                                      <option>15:00</option>
                                      <option>16:00</option>
                                      <option>17:00</option>
                                      <option>18:00</option>
                                      <option>19:00</option>
                                      <option>20:00</option>
                                      <option>21:00</option>
                                      <option>22:00</option>
                                      <option>23:00</option>
                                  </select>

                                  <span asp-validation-for="FromTime" class="text-danger"></span>
                              </div>
                              <div class="form-group">
                                  @*<label asp-for="ToTime" class="control-label"></label>
                                    <input asp-for="ToTime" class="form-control" />
                                    <span asp-validation-for="ToTime" class="text-danger"></span>*@
                                  <label asp-for="ToTime" class="required"></label>
                                  <select class="form-control" asp-for="ToTime">
                                      <option>00:00</option>
                                      <option>01:00</option>
                                      <option>02:00</option>
                                      <option>03:00</option>
                                      <option>04:00</option>
                                      <option>05:00</option>
                                      <option>06:00</option>
                                      <option>07:00</option>
                                      <option>08:00</option>
                                      <option>09:00</option>
                                      <option>10:00</option>
                                      <option>11:00</option>
                                      <option>12:00</option>
                                      <option>13:00</option>
                                      <option>14:00</option>
                                      <option>15:00</option>
                                      <option>16:00</option>
                                      <option>17:00</option>
                                      <option>18:00</option>
                                      <option>19:00</option>
                                      <option>20:00</option>
                                      <option>21:00</option>
                                      <option>22:00</option>
                                      <option>23:00</option>
                                  </select>

                                  <span asp-validation-for="ToTime" class="text-danger"></span>
                              </div>
                              <div class="form-group">
                                  <label asp-for="PhoneNumber" class="control-label"></label>
                                  <input asp-for="PhoneNumber" class="form-control" />
                                  <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                              </div>
                              <div class="form-group">

                              </div>
                          </form>
                      </div>
                      <div class="modal-footer">
                          <input type="submit" id="Submit" class="btn btn-primary" value="Add Details"   />
                          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                      </div>
                  </div>

              </div>
          </div>

      </div>

  </body>
</html>



@*<script>
    $(document).ready(function () {
        $("Submit").click(function () {
            var myformdata = $("myform").serialize();
            $.ajax({
                type: "POST",
                url: "/Doctordetails/Creating",
                data: myformdata,
                success: function () {
                    $("mymodal").modal("hide");
                }

            })
        })

    })
</script>*@

<script type='text/javascript'>

    $(document).ready(function () {

        $('.btn-primary').click(function () {

            var DoctorID = $('#docid').val()
            var FirstName = $('#fname').val();
            var LastName = $('#lname').val();
            var Sex = $('#sex').val();
            var Age = $('#age').val();
            var Date_of_Birth = $('#dob').val();
            var Specialization = $('#specs').val();
            var FromTime = $('#ftime').val();
            var ToTime = $('#ttime').val();
            var PhoneNumber = $('#phoneno').val();

            $('#myModal').modal({

                backdrop: 'static',

                keyboard: false

            })

                .on('click', "Submit", function (e) {

                    $.ajax({

                        type: 'POST',

                        url: '@Url.Action("Creating", "Doctordetails")',

                        data: '{ "DoctorID":"' + DoctorID + '", "fname": "' + FirstName + '", "lname": "' + LastName + '", "age": "' + Age + '", "dob": "' + Date_of_Birth + '", "specs": "' + Specialization + '", "ftime": "' + FromTime + '", "ttime": "' + ToTime + '", "phoneno": "' + PhoneNumber + '"}',

                        dataType: 'json',

                        contentType: 'application/json; charset=utf-8',

                        success: function (response) {

                            window.location.reload();



                            $('#myModal').modal('hide');

                        },

                        error: function (XMLHttpRequest, textStatus, errorThrown) {

                            alert('oops, something bad happened')

                        }

                    });

                });

        });



        

    });

</script>